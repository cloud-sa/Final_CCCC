<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="adminMapper">
	<select id="getMemberListCount" resultType="_int">
		select count(*) 
		from member 
		where authority='N'
	</select>

	<select id="selectMemberList" resultMap="memberResultSet">
		select * 
		from MEMBER
<!-- 		where member_id=#{id} and member_pwd=#{pwd} and status='Y' -->
		where authority='N'
		order by USER_NO desc
	</select>
	
	<select id="memberDetail" resultMap="memberResultSet">
		select * 
		from MEMBER
 		where user_id=#{id} and authority='N'
	</select>
	<resultMap type="Member" id="memberResultSet">
		<id column="user_NO" property="user_no"/>
		<result column="USER_ID" property="user_id"/>
		<result column="USER_PASS" property="user_password"/>
		<result column="NICKNAME" property="nickname"/>
		<result column="EMAIL" property="email"/>
		<result column="GENDER" property="gender"/>
		<result column="AGR" property="age"/>
		<result column="USER_DATE" property="user_date"/>
		<result column="AUTHORITY" property="authority"/>
		<result column="STATUS" property="status"/>
		<result column="SURVEY_YN" property="survey_yn"/>
		<result column="USER_NAME" property="user_name"/>
	</resultMap>
	
	<select id="selectEventList" resultMap="eventResultSet">
		SELECT *
		FROM EVENT
		WHERE EVENT_STATUS='Y'
		ORDER BY EVENT_NO ASC
	</select>
	
	<resultMap type="com.kh.Final_cccc.Event.model.vo.Event" id="eventResultSet">
	<id property="eventNo" column="EVENT_NO"/>
		<result property="eventContent" column="EVENT_CONTENT"/>
		<result property="eventStatus" column="EVENT_STATUS"/>
		<result property="userNo" column="USER_NO"/>
		<result property="eventTitle" column="EVNET_TITLE"/>
		<result property="eventStart" column="EVENT_START"/>
		<result property="eventEnd" column="EVENT_END"/>
		<result property="eventCreateDate" column="EVENT_CREATE_DATE"/>
		<result property="eventModifyDate" column="EVENT_MODIFY_DATE"/>
	</resultMap>
	
	<update id="memberStatusUpdate">
		update member
		set status = #{status}
		where user_id = #{user_id}
	</update>


</mapper>
